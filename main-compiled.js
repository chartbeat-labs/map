function g(a){throw a;}var i=void 0,k=!0,l=null,m=!1,n,o=this;function p(){}
function r(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function s(a){return"array"==r(a)}function v(a){var b=r(a);return"array"==b||"object"==b&&"number"==typeof a.length}function w(a){return"string"==typeof a}Math.floor(2147483648*Math.random()).toString(36);function aa(a,b,c){return a.call.apply(a.bind,arguments)}
function ba(a,b,c){a||g(Error());if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function x(a,b,c){x=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?aa:ba;return x.apply(l,arguments)}var ca=Date.now||function(){return+new Date};
function y(a,b){function c(){}c.prototype=b.prototype;a.Fa=b.prototype;a.prototype=new c};function z(a){this.stack=Error().stack||"";a&&(this.message=""+a)}y(z,Error);var da=/^[a-zA-Z0-9\-_.!~*'()]*$/;function ea(a){a=""+a;return!da.test(a)?encodeURIComponent(a):a};var A=Array.prototype,fa=A.forEach?function(a,b,c){A.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=w(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},ga=A.some?function(a,b,c){return A.some.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=w(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&b.call(c,e[f],f,a))return k;return m};function ha(a){return A.concat.apply(A,arguments)};function ia(a,b){for(var c in a)b.call(i,a[c],c,a)}function ja(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b}function ka(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b};function la(a){if("function"==typeof a.u)return a.u();if(w(a))return a.split("");if(v(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return ja(a)}function ma(a,b,c){if("function"==typeof a.forEach)a.forEach(b,c);else if(v(a)||w(a))fa(a,b,c);else{var d;if("function"==typeof a.t)d=a.t();else if("function"!=typeof a.u)if(v(a)||w(a)){d=[];for(var e=a.length,f=0;f<e;f++)d.push(f)}else d=ka(a);else d=i;for(var e=la(a),f=e.length,h=0;h<f;h++)b.call(c,e[h],d&&d[h],a)}};var B="StopIteration"in o?o.StopIteration:Error("StopIteration");function C(){}C.prototype.next=function(){g(B)};C.prototype.M=function(){return this};function na(a){if(a instanceof C)return a;if("function"==typeof a.M)return a.M(m);if(v(a)){var b=0,c=new C;c.next=function(){for(;;){b>=a.length&&g(B);if(b in a)return a[b++];b++}};return c}g(Error("Not implemented"))}function oa(a,b){if(v(a))try{fa(a,b,i)}catch(c){c!==B&&g(c)}else{a=na(a);try{for(;;)b.call(i,a.next(),i,a)}catch(d){d!==B&&g(d)}}};function D(a,b){this.f={};this.d=[];var c=arguments.length;if(1<c){c%2&&g(Error("Uneven number of arguments"));for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else if(a){a instanceof D?(c=a.t(),d=a.u()):(c=ka(a),d=ja(a));for(var e=0;e<c.length;e++)this.set(c[e],d[e])}}n=D.prototype;n.c=0;n.L=0;n.ba=function(){return this.c};n.u=function(){E(this);for(var a=[],b=0;b<this.d.length;b++)a.push(this.f[this.d[b]]);return a};n.t=function(){E(this);return this.d.concat()};
n.o=function(a){return F(this.f,a)};n.remove=function(a){return F(this.f,a)?(delete this.f[a],this.c--,this.L++,this.d.length>2*this.c&&E(this),k):m};function E(a){if(a.c!=a.d.length){for(var b=0,c=0;b<a.d.length;){var d=a.d[b];F(a.f,d)&&(a.d[c++]=d);b++}a.d.length=c}if(a.c!=a.d.length){for(var e={},c=b=0;b<a.d.length;)d=a.d[b],F(e,d)||(a.d[c++]=d,e[d]=1),b++;a.d.length=c}}n.get=function(a,b){return F(this.f,a)?this.f[a]:b};
n.set=function(a,b){F(this.f,a)||(this.c++,this.d.push(a),this.L++);this.f[a]=b};n.w=function(){return new D(this)};n.M=function(a){E(this);var b=0,c=this.d,d=this.f,e=this.L,f=this,h=new C;h.next=function(){for(;;){e!=f.L&&g(Error("The map has changed since the iterator was created"));b>=c.length&&g(B);var h=c[b++];return a?h:d[h]}};return h};function F(a,b){return Object.prototype.hasOwnProperty.call(a,b)};var G,pa,H,qa;function ra(){return o.navigator?o.navigator.userAgent:l}qa=H=pa=G=m;var I;if(I=ra()){var sa=o.navigator;G=0==I.indexOf("Opera");pa=!G&&-1!=I.indexOf("MSIE");H=!G&&-1!=I.indexOf("WebKit");qa=!G&&!H&&"Gecko"==sa.product}var ta=G,J=pa,K=qa,ua=H,va;
a:{var M="",N;if(ta&&o.opera)var wa=o.opera.version,M="function"==typeof wa?wa():wa;else if(K?N=/rv\:([^\);]+)(\)|;)/:J?N=/MSIE\s+([^\);]+)(\)|;)/:ua&&(N=/WebKit\/(\S+)/),N)var xa=N.exec(ra()),M=xa?xa[1]:"";if(J){var ya,za=o.document;ya=za?za.documentMode:i;if(ya>parseFloat(M)){va=""+ya;break a}}va=M}var Aa={};
function O(a){var b;if(!(b=Aa[a])){b=0;for(var c=(""+va).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),d=(""+a).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),e=Math.max(c.length,d.length),f=0;0==b&&f<e;f++){var h=c[f]||"",j=d[f]||"",q=RegExp("(\\d*)(\\D*)","g"),kb=RegExp("(\\d*)(\\D*)","g");do{var t=q.exec(h)||["","",""],u=kb.exec(j)||["","",""];if(0==t[0].length&&0==u[0].length)break;b=((0==t[1].length?0:parseInt(t[1],10))<(0==u[1].length?0:parseInt(u[1],10))?-1:(0==t[1].length?0:parseInt(t[1],
10))>(0==u[1].length?0:parseInt(u[1],10))?1:0)||((0==t[2].length)<(0==u[2].length)?-1:(0==t[2].length)>(0==u[2].length)?1:0)||(t[2]<u[2]?-1:t[2]>u[2]?1:0)}while(0==b)}b=Aa[a]=0<=b}return b}var Ba={};function Ca(){return Ba[9]||(Ba[9]=J&&!!document.documentMode&&9<=document.documentMode)};function Da(){}Da.prototype.Z=m;Da.prototype.K=function(){this.Z||(this.Z=k,this.O())};Da.prototype.O=function(){this.ta&&Ea.apply(l,this.ta)};function Ea(a){for(var b=0,c=arguments.length;b<c;++b){var d=arguments[b];v(d)?Ea.apply(l,d):d&&"function"==typeof d.K&&d.K()}};function P(a,b){this.ya=b;this.Q=[];a>this.ya&&g(Error("[goog.structs.SimplePool] Initial cannot be greater than max"));for(var c=0;c<a;c++)this.Q.push(this.J())}y(P,Da);n=P.prototype;n.W=l;n.Y=l;n.J=function(){return this.W?this.W():{}};n.X=function(a){if(this.Y)this.Y(a);else{var b=typeof a;if("object"==b&&a!=l||"function"==b)if("function"==r(a.K))a.K();else for(var c in a)delete a[c]}};n.O=function(){P.Fa.O.call(this);for(var a=this.Q;a.length;)this.X(a.pop());delete this.Q};function Fa(){this.aa=[];this.fa=new D;this.Ia=this.Ja=this.Ka=this.Da=0;this.ia=new D;this.ra=this.Ha=0;this.Aa=1;this.va=new P(0,4E3);this.va.J=function(){return new Ga};this.Ea=new P(0,50);this.Ea.J=function(){return new Ha};var a=this;this.ca=new P(0,2E3);this.ca.J=function(){return""+a.Aa++};this.ca.X=function(){}}function Ha(){this.ka=this.time=this.count=0}
Ha.prototype.toString=function(){var a=[];a.push(this.type," ",this.count," (",Math.round(10*this.time)/10," ms)");this.ka&&a.push(" [VarAlloc = ",this.ka,"]");return a.join("")};function Ga(){}function Ia(a,b,c,d){var e=[];-1==c?e.push("    "):e.push(Ja(a.$-c));e.push(" ",Ka(a.$-b));0==a.P?e.push(" Start        "):1==a.P?(e.push(" Done "),e.push(Ja(a.Oa-a.startTime)," ms ")):e.push(" Comment      ");e.push(d,a);0<a.Ga&&e.push("[VarAlloc ",a.Ga,"] ");return e.join("")}
Ga.prototype.toString=function(){return this.type==l?this.qa:"["+this.type+"] "+this.qa};
Fa.prototype.toString=function(){for(var a=[],b=-1,c=[],d=0;d<this.aa.length;d++){var e=this.aa[d];1==e.P&&c.pop();a.push(" ",Ia(e,this.Da,b,c.join("")));b=e.$;a.push("\n");0==e.P&&c.push("|  ")}if(0!=this.fa.ba()){var f=ca();a.push(" Unstopped timers:\n");oa(this.fa,function(b){a.push("  ",b," (",f-b.startTime," ms, started at ",Ka(b.startTime),")\n")})}b=this.ia.t();for(d=0;d<b.length;d++)c=this.ia.get(b[d]),1<c.count&&a.push(" TOTAL ",c,"\n");a.push("Total tracers created ",this.Ha,"\n","Total comments created ",
this.ra,"\n","Overhead start: ",this.Ka," ms\n","Overhead end: ",this.Ja," ms\n","Overhead comment: ",this.Ia," ms\n");return a.join("")};function Ja(a){var a=Math.round(a),b="";1E3>a&&(b=" ");100>a&&(b="  ");10>a&&(b="   ");return b+a}function Ka(a){a=Math.round(a);return(""+(100+a/1E3%60)).substring(1,3)+"."+(""+(1E3+a%1E3)).substring(1,4)}new Fa;!J||Ca();!J||Ca();J&&O("8");!ua||O("528");K&&O("1.9b")||J&&O("8")||ta&&O("9.5")||ua&&O("528");K&&!O("8")||J&&O("9");function La(a){for(var b=[],c=0,d=0;d<a.length;d++){for(var e=a.charCodeAt(d);255<e;)b[c++]=e&255,e>>=8;b[c++]=e}return b};function Ma(a){var b=0,c=a.length,d={e:-1640531527,g:-1640531527,h:314159265},e;for(e=c;12<=e;e-=12,b+=12)d.e+=Q(a,b),d.g+=Q(a,b+4),d.h+=Q(a,b+8),Na(d);d.h+=c;switch(e){case 11:d.h+=a[b+10]<<24;case 10:d.h+=(a[b+9]&255)<<16;case 9:d.h+=(a[b+8]&255)<<8;case 8:d.g+=Q(a,b+4);d.e+=Q(a,b);break;case 7:d.g+=(a[b+6]&255)<<16;case 6:d.g+=(a[b+5]&255)<<8;case 5:d.g+=a[b+4]&255;case 4:d.e+=Q(a,b);break;case 3:d.e+=(a[b+2]&255)<<16;case 2:d.e+=(a[b+1]&255)<<8;case 1:d.e+=a[b+0]&255}Na(d)}
function Na(a){var b=a.e,c=a.g,d=a.h,b=b-c-d^d>>>13,c=c-d-b^b<<8,d=d-b-c^c>>>13,b=b-c-d^d>>>12,c=c-d-b^b<<16,d=d-b-c^c>>>5,b=b-c-d^d>>>3,c=c-d-b^b<<10;a.e=b;a.g=c;a.h=d-b-c^c>>>15}function Q(a,b){return(127<a[b+0]?a[b+0]-256:a[b+0])+((127<a[b+1]?a[b+1]-256:a[b+1])<<8)+((127<a[b+2]?a[b+2]-256:a[b+2])<<16)+((127<a[b+3]?a[b+3]-256:a[b+3])<<24)};!J||Ca();!K&&!J||J&&Ca()||K&&O("1.9.1");J&&O("9");function Oa(a,b){ia(b,function(b,d){"style"==d?a.style.cssText=b:"class"==d?a.className=b:"for"==d?a.htmlFor=b:d in Pa?a.setAttribute(Pa[d],b):0==d.lastIndexOf("aria-",0)?a.setAttribute(d,b):a[d]=b})}var Pa={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",rowspan:"rowSpan",valign:"vAlign",height:"height",width:"width",usemap:"useMap",frameborder:"frameBorder",maxlength:"maxLength",type:"type"};var Qa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([\\w\\d\\-\\u0100-\\uffff.%]*)(?::([0-9]+))?)?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$"),Ra=/#|$/;function Sa(a,b){var c=a.search(Ra),d;a:{d=0;for(var e=b.length;0<=(d=a.indexOf(b,d))&&d<c;){var f=a.charCodeAt(d-1);if(38==f||63==f)if(f=a.charCodeAt(d+e),!f||61==f||38==f||35==f)break a;d+=e+1}d=-1}if(0>d)return l;e=a.indexOf("&",d);if(0>e||e>c)e=c;d+=b.length+1;return decodeURIComponent(a.substr(d,e-d).replace(/\+/g," "))};function R(a,b){var c;a instanceof R?(this.A(b==l?a.l:b),Ta(this,a.s),Ua(this,a.H),Va(this,a.q),Wa(this,a.z),Xa(this,a.v),Ya(this,a.k.w()),Za(this,a.C)):a&&(c=(""+a).match(Qa))?(this.A(!!b),Ta(this,c[1]||"",k),Ua(this,c[2]||"",k),Va(this,c[3]||"",k),Wa(this,c[4]),Xa(this,c[5]||"",k),Ya(this,c[6]||"",k),Za(this,c[7]||"",k)):(this.A(!!b),this.k=new S(l,this,this.l))}n=R.prototype;n.s="";n.H="";n.q="";n.z=l;n.v="";n.C="";n.xa=m;n.l=m;
n.toString=function(){if(this.j)return this.j;var a=[];this.s&&a.push(T(this.s,$a),":");this.q&&(a.push("//"),this.H&&a.push(T(this.H,$a),"@"),a.push(w(this.q)?encodeURIComponent(this.q):l),this.z!=l&&a.push(":",""+this.z));this.v&&(this.q&&"/"!=this.v.charAt(0)&&a.push("/"),a.push(T(this.v,"/"==this.v.charAt(0)?ab:bb)));var b=""+this.k;b&&a.push("?",b);this.C&&a.push("#",T(this.C,cb));return this.j=a.join("")};
n.w=function(){var a=this.s,b=this.H,c=this.q,d=this.z,e=this.v,f=this.k.w(),h=this.C,j=new R(l,this.l);a&&Ta(j,a);b&&Ua(j,b);c&&Va(j,c);d&&Wa(j,d);e&&Xa(j,e);f&&Ya(j,f);h&&Za(j,h);return j};function Ta(a,b,c){U(a);delete a.j;a.s=c?b?decodeURIComponent(b):"":b;a.s&&(a.s=a.s.replace(/:$/,""))}function Ua(a,b,c){U(a);delete a.j;a.H=c?b?decodeURIComponent(b):"":b}function db(a){return a.q}function Va(a,b,c){U(a);delete a.j;a.q=c?b?decodeURIComponent(b):"":b}
function Wa(a,b){U(a);delete a.j;b?(b=Number(b),(isNaN(b)||0>b)&&g(Error("Bad port number "+b)),a.z=b):a.z=l}function Xa(a,b,c){U(a);delete a.j;a.v=c?b?decodeURIComponent(b):"":b}function Ya(a,b,c){U(a);delete a.j;b instanceof S?(a.k=b,a.k.G=a,a.k.A(a.l)):(c||(b=T(b,eb)),a.k=new S(b,a,a.l))}function fb(a,b,c){U(a);delete a.j;a.k.set(b,c)}
function gb(a,b,c){U(a);delete a.j;s(c)||(c=[""+c]);a=a.k;V(a);W(a);b=X(a,b);if(a.o(b)){var d=a.a.get(b);s(d)?a.c-=d.length:a.c--}0<c.length&&(a.a.set(b,c),a.c+=c.length)}function Za(a,b,c){U(a);delete a.j;a.C=c?b?decodeURIComponent(b):"":b}function U(a){a.xa&&g(Error("Tried to modify a read-only Uri"))}n.A=function(a){this.l=a;this.k&&this.k.A(a);return this};var hb=/^[a-zA-Z0-9\-_.!~*'():\/;?]*$/;
function T(a,b){var c=l;w(a)&&(c=a,hb.test(c)||(c=encodeURI(a)),0<=c.search(b)&&(c=c.replace(b,ib)));return c}function ib(a){a=a.charCodeAt(0);return"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var $a=/[#\/\?@]/g,bb=/[\#\?:]/g,ab=/[\#\?]/g,eb=/[\#\?@]/g,cb=/#/g;function S(a,b,c){this.m=a||l;this.G=b||l;this.l=!!c}
function V(a){if(!a.a&&(a.a=new D,a.c=0,a.m))for(var b=a.m.split("&"),c=0;c<b.length;c++){var d=b[c].indexOf("="),e=l,f=l;0<=d?(e=b[c].substring(0,d),f=b[c].substring(d+1)):e=b[c];e=decodeURIComponent(e.replace(/\+/g," "));e=X(a,e);a.add(e,f?decodeURIComponent(f.replace(/\+/g," ")):"")}}n=S.prototype;n.a=l;n.c=l;n.ba=function(){V(this);return this.c};n.add=function(a,b){V(this);W(this);a=X(this,a);if(this.o(a)){var c=this.a.get(a);s(c)?c.push(b):this.a.set(a,[c,b])}else this.a.set(a,b);this.c++;return this};
n.remove=function(a){V(this);a=X(this,a);if(this.a.o(a)){W(this);var b=this.a.get(a);s(b)?this.c-=b.length:this.c--;return this.a.remove(a)}return m};n.o=function(a){V(this);a=X(this,a);return this.a.o(a)};n.t=function(){V(this);for(var a=this.a.u(),b=this.a.t(),c=[],d=0;d<b.length;d++){var e=a[d];if(s(e))for(var f=0;f<e.length;f++)c.push(b[d]);else c.push(b[d])}return c};
n.u=function(a){V(this);var b=[];if(a)a=X(this,a),this.o(a)&&(b=ha(b,this.a.get(a)));else for(var a=this.a.u(),c=0;c<a.length;c++)b=ha(b,a[c]);return b};n.set=function(a,b){V(this);W(this);a=X(this,a);if(this.o(a)){var c=this.a.get(a);s(c)?this.c-=c.length:this.c--}this.a.set(a,b);this.c++;return this};n.get=function(a,b){V(this);a=X(this,a);if(this.o(a)){var c=this.a.get(a);return s(c)?c[0]:c}return b};
n.toString=function(){if(this.m)return this.m;if(!this.a)return"";for(var a=[],b=0,c=this.a.t(),d=0;d<c.length;d++){var e=c[d],f=ea(e),e=this.a.get(e);if(s(e))for(var h=0;h<e.length;h++)0<b&&a.push("&"),a.push(f),""!==e[h]&&a.push("=",ea(e[h])),b++;else 0<b&&a.push("&"),a.push(f),""!==e&&a.push("=",ea(e)),b++}return this.m=a.join("")};function W(a){delete a.N;delete a.m;a.G&&delete a.G.j}n.w=function(){var a=new S;this.N&&(a.N=this.N);this.m&&(a.m=this.m);this.a&&(a.a=this.a.w());return a};
function X(a,b){var c=""+b;a.l&&(c=c.toLowerCase());return c}n.A=function(a){a&&!this.l&&(V(this),W(this),ma(this.a,function(a,c){var d=c.toLowerCase();c!=d&&(this.remove(c),this.add(d,a))},this));this.l=a};/*
 Portions of this code are from MochiKit, received by
 The Closure Authors under the MIT license. All other code is Copyright
 2005-2009 The Closure Authors. All Rights Reserved.
*/
function jb(a,b){this.I=[];this.sa=b||l}n=jb.prototype;n.B=m;n.D=m;n.F=0;n.ha=m;n.oa=m;n.ma=0;n.V=function(a,b){lb(this,a,b);this.F--;0==this.F&&this.B&&mb(this)};function lb(a,b,c){a.B=k;a.R=c;a.D=!b;mb(a)}function nb(a){a.B&&(a.ha||g(new ob),a.ha=m)}function pb(a,b,c,d){a.I.push([b,c,d]);a.B&&mb(a)}function qb(a){return ga(a.I,function(a){return"function"==r(a[1])})}
function mb(a){a.T&&a.B&&qb(a)&&(o.clearTimeout(a.T),delete a.T);a.ga&&(a.ga.ma--,delete a.ga);for(var b=a.R,c=m,d=m;a.I.length&&0==a.F;){var e=a.I.shift(),f=e[0],h=e[1],e=e[2];if(f=a.D?h:f)try{var j=f.call(e||a.sa,b);j!==i&&(a.D=a.D&&(j==b||j instanceof Error),a.R=b=j);b instanceof jb&&(d=k,a.F++)}catch(q){b=q,a.D=k,qb(a)||(c=k)}}a.R=b;d&&a.F&&(pb(b,x(a.V,a,k),x(a.V,a,m)),b.oa=k);c&&(a.T=o.setTimeout(function(){b.message!==i&&b.stack&&(b.message=b.message+("\n"+b.stack));g(b)},0))}
function ob(){z.call(this)}y(ob,z);ob.prototype.message="Already called";function rb(a,b){var c=b||{},d=c.document||document,e=document.createElement("SCRIPT"),f={Na:e,S:i},h=new jb(0,f),j=l,q=c.timeout!=l?c.timeout:5E3;0<q&&(j=window.setTimeout(function(){sb(e,k);var b=new tb(ub,"Timeout reached for loading script "+a);nb(h);lb(h,m,b)},q),f.S=j);e.onload=e.onreadystatechange=function(){if(!e.readyState||e.readyState=="loaded"||e.readyState=="complete"){sb(e,c.pa||m,j);nb(h);lb(h,k,l)}};e.onerror=function(){sb(e,k,j);var b=new tb(vb,"Error while loading script "+a);nb(h);
lb(h,m,b)};Oa(e,{type:"text/javascript",charset:"UTF-8",src:a});wb(d).appendChild(e);return h}function wb(a){var b=a.getElementsByTagName("HEAD");return!b||0==b.length?a.documentElement:b[0]}function sb(a,b,c){c!=l&&o.clearTimeout(c);a.onload=p;a.onerror=p;a.onreadystatechange=p;b&&window.setTimeout(function(){a&&a.parentNode&&a.parentNode.removeChild(a)},0)}var vb=0,ub=1;function tb(a,b){var c="Jsloader error (code #"+a+")";b&&(c+=": "+b);z.call(this,c);this.code=a}y(tb,z);function xb(a,b){this.G=new R(a);this.na=b?b:"callback";this.S=5E3}var yb=0;xb.prototype.send=function(a,b,c,d){a=a||l;d=d||"_"+(yb++).toString(36)+ca().toString(36);o._callbacks_||(o._callbacks_={});var e=this.G.w();if(a)for(var f in a)(!a.hasOwnProperty||a.hasOwnProperty(f))&&gb(e,f,a[f]);b&&(o._callbacks_[d]=zb(d,b),gb(e,this.na,"_callbacks_."+d));b=rb(e.toString(),{timeout:this.S,pa:k});pb(b,l,Ab(d,a,c),i);return{Ma:d,La:b}};function Ab(a,b,c){return function(){Bb(a,m);c&&c(b)}}
function zb(a,b){return function(c){Bb(a,k);b.apply(i,arguments)}}function Bb(a,b){o._callbacks_[a]&&(b?delete o._callbacks_[a]:o._callbacks_[a]=p)};var Cb=o.window;function Db(a,b,c){"function"==r(a)?c&&(a=x(a,c)):a&&"function"==typeof a.handleEvent?a=x(a.handleEvent,a):g(Error("Invalid listener argument"));2147483647<b||Cb.setTimeout(a,b||0)};function Eb(a,b,c){this.ua=w(a)?document.getElementById(a):a;this.wa=b;this.la=c;this.za=mediaUrl||"";this.U=1E4;this.da=0;this.ea=10;a=new L.TileLayer("http://{s}.tiles.mapbox.com/v3/chartbeat.chartbeat/{z}/{x}/{y}.png",{attribution:"Map data \u00a9 OpenStreetMap, Imagery \u00a9 MapBox",minZoom:2,maxZoom:8,subdomains:"abcd",unloadInvisibleTiles:k,reuseTiles:k});this.f=new L.Map(this.ua);this.f.setView(new L.LatLng(40.7141667,-74.0063889),3);this.f.addLayer(a)}
Eb.prototype.start=function(){var a=new R("http://api.chartbeat.com/recent/");fb(a,"host",this.wa);fb(a,"apikey",this.la);fb(a,"limit",this.ea);this.Ca=new xb(a,"jsonp");o.setInterval(x(this.ja,this),this.U);this.ja()};Eb.prototype.ja=function(){this.Ca.send({},x(this.Ba,this))};function Fb(a){a=new L.Icon(a.za+"images/labs/map/red-pin.png");a.iconSize=new L.Point(26,29);a.shadowSize=a.iconSize;a.iconAnchor=new L.Point(26,29);a.popupAnchor=new L.Point(0,-29);return a}
function Gb(a,b,c,d){var e=a.f,f=new L.LatLng(b.lat,b.lng),h=b.i;Ma(La(b.p));var j=Fb(a),q=new L.Marker(f,{icon:j}),j=[];j.push("<div><b>"+h+"</b>");j.push("<br/>Load time: "+Math.round(b.b/1E3)+"s");j.push(", "+(1==b.n?"new":"returning"));b.r&&(b=db(new R(b.r)),j.push("<br/>From: "+b));j.push("</div>");q.bindPopup(j.join(""));Db(function(){console.log("marker: "+f);e.addLayer(q);q.openPopup()},c,a);Db(function(){e.removeLayer(q)},c+d)}
Eb.prototype.Ba=function(a){if(a&&a.length){for(var b=3*this.U,c=Math.floor(this.U/this.ea),d=0,e=a.length-1;0<=e;--e){var f=a[e];f.utc<=this.da||(Gb(this,f,d,b),d+=c)}this.da=a[0].utc}};function Hb(a,b,c){var d=o.location&&o.location.search;if(d){var e=Sa(d,"host");e&&(b=e);(e=Sa(d,"apikey"))&&(c=e)}(new Eb(a,b,c)).start()}var Y=["init"],Z=o;!(Y[0]in Z)&&Z.execScript&&Z.execScript("var "+Y[0]);for(var $;Y.length&&($=Y.shift());)!Y.length&&Hb!==i?Z[$]=Hb:Z=Z[$]?Z[$]:Z[$]={};
